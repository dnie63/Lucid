<app-featured-preferences></app-featured-preferences>
<div class="container container-title">
  <h4 class="text-center">Most Popular</h4>
</div>
<div class="container-fluid container-products">
  <div
    class="row justify-content-sm-center overflow-container"
    [class]="{'shorten-container': popularShortSupply, 'widen-container': !popularShortSupply}">
    <div class="col-sm-1 d-flex align-items-center">
      <div
        class="rounded-left py-sm-3 nav-arrow"
        (click)="onSlidePopular(false, -1)"
        *ngIf="currPopularPage > 0">
        <img src="./assets/images/left-arrow.svg" alt="left arrow" height="50">
      </div>
    </div>
    <div class="col-sm">
      <div
        class="container slide-container"
        *ngFor="let batch of popularProducts"
        [@slideInOut]="popularSlideRight ? 'right' : 'left'">
        <div class="row row-cols-{{productsPerRow}} row-products">
          <div class="col mb-3" *ngFor="let product of batch">
            <app-product
              [name]="product.name"
              [source]="product.source"
              [link]="product.link"
              [imagePath]="product.imagePath"
              [price]="product.price">
            </app-product>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-1 d-flex align-items-center">
      <div
        class="rounded-right py-sm-3 nav-arrow"
        (click)="onSlidePopular(true, 1)"
        *ngIf="currPopularPage * productsPerPage + productsPerPage < maxPopularProducts">
        <img src="./assets/images/right-arrow.svg" alt="right arrow" height="50">
      </div>
    </div>
  </div>
  <div class="row justify-content-sm-center">
    <div class="col-sm-3 px-0 rounded pagination">
      <div class="container-fluid">
        <div class="row">
          <div
            class="col-sm text-center font-weight-bold py-2 page-number"
            *ngFor="let page of popularPageNumbers"
            [class]="{'active-page': page == currPopularPage + 1,
              'inactive-page': page != currPopularPage + 1}"
            (click)="onClickPagePopular(page - 1)">{{page}}</div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container container-title">
  <h4 class="text-center">Newest Arrivals</h4>
</div>
<div class="container-fluid container-products">
  <div
    class="row justify-content-sm-center overflow-container"
    [class]="{'shorten-container': newestShortSupply, 'widen-container': !newestShortSupply}">
    <div class="col-sm-1 d-flex align-items-center">
      <div
        class="rounded-left py-sm-3 nav-arrow"
        (click)="onSlideNewest(false, -1)"
        *ngIf="currNewestPage > 0">
        <img src="./assets/images/left-arrow.svg" alt="left arrow" height="50">
      </div>
    </div>
    <div class="col-sm">
      <div
        class="container slide-container"
        *ngFor="let batch of newestProducts"
        [@slideInOut]="newestSlideRight ? 'right' : 'left'">
        <div class="row row-cols-{{productsPerRow}} row-products">
          <div class="col mb-3" *ngFor="let product of batch">
            <app-product
              [name]="product.name"
              [source]="product.source"
              [link]="product.link"
              [imagePath]="product.imagePath"
              [price]="product.price">
            </app-product>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-1 d-flex align-items-center">
      <div
        class="rounded-right py-sm-3 nav-arrow"
        (click)="onSlideNewest(true, 1)"
        *ngIf="currNewestPage * productsPerPage + productsPerPage < maxNewestProducts">
        <img src="./assets/images/right-arrow.svg" alt="right arrow" height="50">
      </div>
    </div>
  </div>
  <div class="row justify-content-sm-center">
    <div class="col-sm-3 px-0 rounded pagination">
      <div class="container-fluid">
        <div class="row">
          <div
            class="col-sm text-center font-weight-bold py-2 page-number"
            *ngFor="let page of newestPageNumbers"
            [class]="{'active-page': page == currNewestPage + 1,
              'inactive-page': page != currNewestPage + 1}"
            (click)="onClickPageNewest(page - 1)">{{page}}</div>
        </div>
      </div>
    </div>
  </div>
</div>
